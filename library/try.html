<!-- A modal dialog containing a form -->


<dialog id="favDialog">
  <form>
    <p>
      <label>
        Favorite animal:
        <select>
          <option value="default">Chooseâ€¦</option>
          <option>Brine shrimp</option>
          <option>Red panda</option>
          <option>Spider monkey</option>
        </select>
      </label>
    </p>
    <div>
      <button value="cancel" formmethod="dialog">Cancel</button>
      <button id="confirmBtn" value="default">Confirm</button>
    </div>
  </form>
</dialog>
<p>
  <button id="showDialog">Show the dialog</button>
</p>
<output></output>                                                 


<script>
  const showButton = document.getElementById("showDialog");
const favDialog = document.getElementById("favDialog");
const outputBox = document.querySelector("output");
const select = favDialog.querySelector("select");
const confirmBtn = favDialog.querySelector("#confirmBtn");
showButton.addEventListener("click",()=>{
  favDialog.showModal();
})

select.addEventListener("change",(e)=>{
  confirmBtn.value = select.value;
})

favDialog.addEventListener("close",()=>{
  outputBox.value = favDialog.returnValue === "default"
      ? "No return value."
      : `ReturnValue: ${favDialog.returnValue}.`;
  
})

confirmBtn.addEventListener("click", (event) => {
  event.preventDefault(); // We don't want to submit this fake form
  favDialog.close(select.value); // Have to send the select box value here.
  
});



</script>